import{_ as C,d as I,o as i,c,a as l,b as m,F as b,r as w,e as P,f as d,g as k,h as _,n as A,t as y,i as D,j as x,w as O,k as $,l as B,m as L,p as N,P as j}from"./index-X8IWMGYy.js";const S=I({components:{IconArrow:P},props:{totalItems:{type:Number,required:!0},itemsPerPage:{type:Number,default:10},initialPage:{type:Number,default:1}},emits:["page-change"],setup(t,{emit:n}){const a=d(t.initialPage),e=k(()=>Math.ceil(t.totalItems/t.itemsPerPage)),o=k(()=>Array.from({length:e.value},(r,s)=>s+1));return{currentPage:a,totalPages:e,pages:o,goToPage:r=>{r>=1&&r<=e.value&&(a.value=r,n("page-change",r))}}}}),T={class:"flex items-center justify-center space-x-2"},F=["disabled"],M=["onClick"],V=["disabled"];function E(t,n,a,e,o,u){const r=_("IconArrow");return i(),c("nav",T,[l("button",{class:"p-1 rounded-md bg-white text-gray-700 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.currentPage===1,onClick:n[0]||(n[0]=s=>t.goToPage(t.currentPage-1))},[m(r,{orientation:"left"})],8,F),(i(!0),c(b,null,w(t.pages,s=>(i(),c("button",{key:s,class:A(["px-3 py-1 rounded-md border",{"bg-black text-white":s===t.currentPage,"bg-gray-200 text-black hover:bg-gray-300":s!==t.currentPage}]),onClick:f=>t.goToPage(s)},y(s),11,M))),128)),l("button",{class:"p-1 rounded-md bg-white text-gray-700 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.currentPage===t.totalPages,onClick:n[1]||(n[1]=s=>t.goToPage(t.currentPage+1))},[m(r,{orientation:"right"})],8,V)])}const R=C(S,[["render",E],["__scopeId","data-v-ea38fbca"]]),z={class:"breadcrumb py-3 sm:py-6 flex"},Z={class:"items-center space-x-4 rtl:space-x-reverse hidden md:inline-flex"},q={class:"flex items-center"},H={__name:"Breadcrumb",props:{navItems:Array},setup(t){return(n,a)=>{const e=_("RouterLink");return i(),c("nav",z,[l("ol",Z,[(i(!0),c(b,null,w(t.navItems,(o,u)=>(i(),c("li",{key:o.id},[l("div",q,[u>0&&u<t.navItems.length?(i(),D(P,{key:0,class:"mr-4",size:24,color:"#A4A4A4",orientation:"right"})):x("",!0),m(e,{to:o.path,class:"inline-flex items-center text-md font-normal breadcrumb-item"},{default:O(()=>[$(y(o.title),1)]),_:2},1032,["to"])])]))),128))])])}}},U={class:"product-list-count flex items-center"},G={class:"number text-xl ml-2"},J={__name:"ProductListCount",props:{count:Number},setup(t){return(n,a)=>(i(),c("div",U,[a[0]||(a[0]=l("span",{class:"label text-md font-normal"},"Selected Products:",-1)),l("span",G,y(t.count),1)]))}},K=["id"],Q=["id"],W={class:"py-2 text-sm text-gray-700 dark:text-gray-200"},X=["onClick"],Y={__name:"Dropdown",props:{id:String,options:Array,defaultOption:String},emits:["change-dropdown"],setup(t,{emit:n}){const a=n,e=t,o=d(!1),u=d(e.defaultOption),r=d(null),s=()=>{o.value=!o.value},f=p=>{a("change-dropdown",p),u.value=p.title,o.value=!1},v=p=>{r.value&&!r.value.contains(p.target)&&(o.value=!1)};return B(()=>{document.addEventListener("click",v)}),L(()=>{document.removeEventListener("click",v)}),(p,g)=>(i(),c("div",{ref_key:"dropdownRef",ref:r,class:"dropdown-wrapper relative"},[l("button",{id:`${t.id}-dropdown`,class:"dropdown text-black font-normal rounded-md text-sm px-5 py-2.5 text-center justify-between inline-flex items-center border-gray-200 border-solid border-1",type:"button",onClick:s},[$(y(u.value)+" ",1),m(P,{color:"#9F9F9F",orientation:o.value?"top":"bottom"},null,8,["orientation"])],8,K),o.value?(i(),c("div",{key:0,id:`dropdown-${t.id}`,class:"z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dropdown-list absolute"},[l("ul",W,[(i(!0),c(b,null,w(t.options,h=>(i(),c("li",{key:h.id},[l("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:N(at=>f(h),["prevent"])},y(h.title),9,X)]))),128))])],8,Q)):x("",!0)],512))}},tt={components:{ProductModule:j,Pagination:R,Breadcrumb:H,ProductListCount:J,Dropdown:Y},setup(){const n=d(Array(8).fill().map(()=>{})),a=d(!0),e=d(null),o=d(0),u=d("By rating"),r=d([{id:1,title:"By rating",sortBy:"rating"},{id:2,title:"By name, A-Z",sortBy:"nameAsc"},{id:3,title:"By name, Z-A",sortBy:"nameDesc"},{id:4,title:"By price, low to high",sortBy:"priceAsc"},{id:5,title:"By price, high to low",sortBy:"priceDesc"}]),s=d([{id:1,path:"/",title:"Home"},{id:2,path:"/catalog",title:"Catalog"},{id:3,path:"/catalog",title:"Smartphones",active:!0}]),f=g=>{},v=g=>{},p=async()=>{a.value=!0;try{const g=await fetch("https://my-json-server.typicode.com/vorenus85/json-server/products");if(!g.ok)throw new Error("Failed to load products");const h=await g.json();console.log(h),o.value=h.length,n.value=h.slice(0,8)}catch(g){g.value=g.message}finally{a.value=!1}};return B(()=>{p()}),{limit:8,totalItemCount:o,error:e,loading:a,fetchProducts:p,onPageChange:f,products:n,navigationItems:s,sortOptions:r,defaultSortOption:u,onChangeDropdown:v}}},et={class:"container pb-6"},ot={class:"category-content-wrapper"},nt={class:"product-list"},rt={class:"product-list-top flex justify-between py-3"};function st(t,n,a,e,o,u){const r=_("Breadcrumb"),s=_("ProductListCount"),f=_("Dropdown"),v=_("ProductModule"),p=_("Pagination");return i(),c("div",et,[m(r,{navItems:e.navigationItems},null,8,["navItems"]),l("div",ot,[n[0]||(n[0]=l("div",{class:"product-filter"},null,-1)),l("div",nt,[l("div",rt,[m(s,{count:e.totalItemCount},null,8,["count"]),m(f,{id:"sort-list",options:e.sortOptions,defaultOption:e.defaultSortOption,onChangeDropdown:e.onChangeDropdown},null,8,["options","defaultOption","onChangeDropdown"])]),m(v,{error:e.error,loading:e.loading,products:e.products,class:"py-3"},null,8,["error","loading","products"]),m(p,{totalItems:e.totalItemCount,itemsPerPage:e.limit,onPageChange:e.onPageChange,class:"mb-3"},null,8,["totalItems","itemsPerPage","onPageChange"])])])])}const lt=C(tt,[["render",st]]);export{lt as default};
